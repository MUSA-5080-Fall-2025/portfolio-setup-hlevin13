install.packages("tidyverse")
install.packages("tidycensus")
install.packages("sf")
install.packages("regal")
install.packages("tidy")
readRenviron("~/.Renviron")
install.packages("tidycensus") ##here, you will be prompted with "yes/no/cancel" -- type no
install.packages("tidyverse")
install.packages("dplyr") # likely superfluous as tidyverse includes dplyr -- but good practice!
install.packages("sf")
install.packages("janitor")
library(tidycensus)
census_api_key(key = "5a82e243438bea307ae1c04f150d539c4db5fa47")
census_api_key(key = "5a82e243438bea307ae1c04f150d539c4db5fa47", install = TRUE)
# Load libraries
library(tidycensus)
library(tidyverse)
# Set your Census API key (get one at https://api.census.gov/data/key_signup.html)
# Replace with your actual key
census_api_key(5a82e243438bea307ae1c04f150d539c4db5fa47, install = TRUE)
# Set your Census API key (get one at https://api.census.gov/data/key_signup.html)
# Replace with your actual key
census_api_key("5a82e243438bea307ae1c04f150d539c4db5fa47", install = TRUE)
# Define the variables of interest from ACS 5-Year Estimates
# Table IDs used from 2020 ACS 5-year estimates
variables <- c(
total_pop = "B01003_001",
white = "B02001_002",
black = "B02001_003",
asian = "B02001_005",
hispanic = "B03003_003",
foreign_born = "B05002_013",
poverty = "B17001_002",
)
_002"
# Define the variables of interest from ACS 5-Year Estimates
# Table IDs used from 2020 ACS 5-year estimates
variables <- c(
total_pop = "B01003_001",
white = "B02001_002",
black = "B02001_003",
asian = "B02001_005",
hispanic = "B03003_003",
foreign_born = "B05002_013",
poverty = "B17001_002"
)
# Get ACS data for Queens County, NY
data <- get_acs(
geography = "tract",
variables = variables,
state = "NY",
county = "Queens",
year = 2022,
survey = "acs5",
output = "wide"
)
# Filter for the specified tracts
data_filtered <- data %>%
filter(substr(GEOID, 6, 10) %in% tracts) %>%
select(GEOID, NAME, ends_with("E")) %>%
rename_with(~str_remove(., "_E$"))
# View the results
print(data_filtered)
# Filter for the specified tracts
data_filtered <- data %>%
filter(substr(GEOID, 6, 10) %in% tracts) %>%
select(GEOID, NAME, ends_with("E")) %>%
rename_with(~str_remove(., "_E$"))
git branch
